# ============================================
# AI VIDEO CLIPPER - AWS g4dn OPTIMAL SETTINGS
# ============================================
# Copy this file to .env for AWS deployment
# All settings are pre-optimized for NVIDIA T4 GPU

# === TRANSCRIPTION (Whisper) ===
TRANSCRIPTION_BACKEND=faster-whisper
FASTER_WHISPER_MODEL=large-v3
FASTER_WHISPER_DEVICE=cuda
FASTER_WHISPER_COMPUTE_TYPE=float16
FASTER_WHISPER_BEAM_SIZE=5
FASTER_WHISPER_VAD_FILTER=true
FASTER_WHISPER_TEMPERATURE=0.0
FASTER_WHISPER_BEST_OF=5
WHISPER_LANGUAGE=id

# === HYBRID TRANSCRIPTION ===
HYBRID_TRANSCRIPTION_ENABLED=true
CONFIDENCE_RETRY_THRESHOLD=0.7
RETRY_MODEL=large-v3
RETRY_BEAM_SIZE=5
DUAL_MODEL_ENABLED=true
DUAL_MODEL_SECONDARY=large-v3-turbo

# === GROQ API (Optional - for extra accuracy) ===
# Get free API key at: https://console.groq.com/
GROQ_API_ENABLED=true
GROQ_API_KEY=
GROQ_MODEL=whisper-large-v3-turbo

# === VIDEO EXPORT (NVENC) ===
USE_GPU_ACCELERATION=true
VIDEO_CODEC=h264_nvenc
VIDEO_BITRATE=4M
NVENC_PRESET=p4
NVENC_TUNE=hq
NVENC_QUALITY=20
NVENC_MULTIPASS=fullres
NVENC_B_FRAMES=3
NVENC_LOOKAHEAD=20
HWACCEL_DECODER=cuda

# === GPU FILTERS ===
USE_GPU_FILTERS=true
SCALE_FILTER=scale_cuda

# === PARALLEL PROCESSING ===
# g4dn.xlarge: 4 vCPU, 16GB RAM, 1x T4 GPU
# g4dn.2xlarge: 8 vCPU, 32GB RAM, 1x T4 GPU
MAX_PARALLEL_EXPORTS=6
PROCESSING_CONCURRENCY=2

# === CLIP GENERATION ===
MAX_CLIPS_PER_VIDEO=30
TARGET_CLIP_COUNT=15
MIN_CLIP_OUTPUT=5
LONG_VIDEO_MIN_CLIPS=10
VERY_LONG_VIDEO_MIN_CLIPS=20

# === DEEP LEARNING VIDEO ANALYSIS ===
ENABLE_DEEP_LEARNING_VIDEO=true
YOLO_MODEL_SIZE=s
MEDIAPIPE_FACE_CONFIDENCE=0.5

# === RESOLUTION ===
DEFAULT_RESOLUTION=1080p

# === LLM INTELLIGENCE ===
# Uncomment and add your API key for AI-powered clip analysis
# LLM_PROVIDER=groq
# LLM_API_KEY=your_groq_api_key_here
