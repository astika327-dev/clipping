# ============================================
# AI VIDEO CLIPPER - ENVIRONMENT CONFIGURATION
# ============================================
# Copy this file to .env and configure your settings

# === TRANSCRIPTION BACKEND ===
# Options: faster-whisper (recommended), openai-whisper
TRANSCRIPTION_BACKEND=faster-whisper

# === WHISPER MODEL SETTINGS ===
# Models: tiny, base, small, medium, large, large-v2, large-v3, large-v3-turbo
WHISPER_MODEL=large
FASTER_WHISPER_MODEL=large
FASTER_WHISPER_DEVICE=cuda
FASTER_WHISPER_COMPUTE_TYPE=float16

# Performance tuning
FASTER_WHISPER_BEAM_SIZE=1
FASTER_WHISPER_CHUNK_LENGTH=30
FASTER_WHISPER_VAD_FILTER=true

# === HYBRID TRANSCRIPTION SYSTEM ===
# Enable hybrid transcription for improved accuracy
HYBRID_TRANSCRIPTION_ENABLED=true

# Confidence threshold for retry (0.0 - 1.0)
# Segments below this threshold will be re-transcribed with larger model
CONFIDENCE_RETRY_THRESHOLD=0.7

# Model for confidence-based retry (more accurate)
RETRY_MODEL=large-v3
RETRY_BEAM_SIZE=5

# Dual-model comparison for short videos
DUAL_MODEL_ENABLED=true
DUAL_MODEL_MAX_DURATION=600
DUAL_MODEL_SECONDARY=large-v3-turbo

# === GROQ API (Free Tier) ===
# Get your free API key at: https://console.groq.com/keys
# Free tier: 14,400 requests/day
GROQ_API_ENABLED=true
GROQ_API_KEY=
GROQ_MODEL=whisper-large-v3-turbo
GROQ_FALLBACK_ON_LOW_CONFIDENCE=true
GROQ_CONFIDENCE_THRESHOLD=0.6

# Minimum segment confidence to consider "good enough"
MIN_SEGMENT_CONFIDENCE=0.5

# === LLM INTELLIGENCE (AI-Powered Clip Analysis) ===
# Uses Groq LLama API for intelligent clip analysis
# Features: Context Validation, Viral Title Generation, Hook Enhancement,
#           Quality Assessment, Trend Matching, Social Media Captions
# Same API key as GROQ_API_KEY above
LLM_INTELLIGENCE_ENABLED=true
LLM_MODEL=llama-3.3-70b-versatile
# Available models:
# - llama-3.3-70b-versatile (recommended, best quality)
# - llama-3.1-8b-instant (faster, good quality)
# - llama-3.2-3b-preview (fastest, basic quality)
# - mixtral-8x7b-32768 (alternative)

# === VIDEO PROCESSING ===
MAX_CLIPS_PER_VIDEO=30
TARGET_CLIP_COUNT=15
MIN_CLIP_OUTPUT=5

# Long video handling
LONG_VIDEO_THRESHOLD=3600
VERY_LONG_VIDEO_THRESHOLD=7200

# === DEEP LEARNING VIDEO ANALYSIS ===
# Enable advanced face detection, emotion recognition, and object detection
ENABLE_DEEP_LEARNING_VIDEO=true

# MediaPipe Face Detection (468 facial landmarks)
# Much more accurate than Haar cascades
MEDIAPIPE_FACE_CONFIDENCE=0.5

# YOLOv8 Object Detection
# Model sizes: n (nano/fastest), s (small), m (medium), l (large), x (xlarge/best)
# 'n' = fastest, 'x' = most accurate
YOLO_MODEL_SIZE=n
YOLO_CONFIDENCE=0.5

# Speaker Activity Detection thresholds
SPEAKER_TALKING_THRESHOLD=0.3
SPEAKER_ENGAGEMENT_THRESHOLD=0.2

# === YOUTUBE DOWNLOAD ===
# Export cookies from browser using "Get cookies.txt LOCALLY" extension
# YTDLP_COOKIES_FILE=./youtube_cookies.txt
# Or use browser cookies directly (browser must be closed):
# YTDLP_COOKIES_FROM_BROWSER=chrome

# === AWS CLOUD DEPLOYMENT ===
# Enable S3 storage for uploads and outputs
# AWS_S3_ENABLED=true
# AWS_S3_BUCKET=your-clipper-bucket
# AWS_REGION=ap-southeast-1
# If not using IAM role:
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key

# Redis Queue (for production scaling)
# REDIS_URL=redis://localhost:6379/0
# CELERY_BROKER_URL=redis://localhost:6379/0
# CELERY_RESULT_BACKEND=redis://localhost:6379/0

# Production Settings
# FLASK_ENV=production
# PROCESSING_CONCURRENCY=2
